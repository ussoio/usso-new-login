FROM oven/bun:1.3-alpine

# Install system dependencies
RUN apk update && \
    apk add --no-cache \
    git \
    python3 \
    make \
    g++ \
    curl \
    bash \
    nodejs \
    inotify-tools

# Set working directory
WORKDIR /app

# Set development environment
ENV NODE_ENV=development

# Default command: install dependencies and run dev
# Dependencies are installed at runtime because of volume mount
CMD ["sh", "-c", "bun install && bun run dev"] 